# Migration `20190823205846-add-user-columns`

This migration has been generated by Guillermo Lopez at 8/23/2019, 8:58:46 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" DROP COLUMN "name",ADD COLUMN "username" text NOT NULL DEFAULT '' ,ADD COLUMN "password" text NOT NULL DEFAULT '' ,ADD COLUMN "firstName" text NOT NULL DEFAULT '' ,ADD COLUMN "lastName" text NOT NULL DEFAULT '' ;

CREATE UNIQUE INDEX "User.username._UNIQUE" ON "public"."User"("username")
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20190823205745-add-user-model..20190823205846-add-user-columns
--- datamodel.dml
+++ datamodel.dml
@@ -10,8 +10,11 @@
 model User {
   id    String  @default(cuid()) @id @unique
   email String  @unique
-  name  String?
+  username String  @unique
+  password String
+  firstName  String
+  lastName  String
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
 }
```

## Photon Usage

You can use a specific Photon built for this migration (20190823205846-add-user-columns)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20190823205846-add-user-columns'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
